# 近似算法

## 基本概念
- 近似算法是指在多项式时间内求解NP难问题的近似解的算法。
- 近似算法的目标是找到一个接近最优解的解，而不是精确地求解最优解。

### 近似度
- 近似度是用来衡量近似解与最优解之间差距的一个指标。
- Ratio Bound：
  - 设最优解为OPT，近似解为A，Ratio Bound为B(n)，则有：
  - $max\{ \frac{A}{OPT}, \frac{OPT}{A} \} \leq B(n)$
    - Ratio Bound越小，近似解越接近最优解。
- 相对误差：
  - 设最优解为OPT，近似解为A，则有：
  - $E = \frac{A - OPT}{OPT}$
    - 相对误差越小，近似解越接近最优解。
    - $ E \leq \epsilon(n)$，相对误差界限为$\epsilon(n)$。
- 关系：
    $$ \epsilon(n) = B(n) - 1 $$
    - 只要求出了Ratio Bound，就可以求出相对误差。

## 顶点覆盖问题
- 顶点覆盖问题是一个NP完全问题。
- 顶点覆盖问题的定义：
  - 给定一个无向图G = (V, E)，求一个最小的顶点集合V'，使得每条边至少有一个端点在V'中。

- 近似算法：
    - 贪心算法：
        - 随机选择一条边，加入顶点集合V'，然后删除与该边相连的所有边，直到所有边都被覆盖。
    - 时间复杂度：O(E)，空间复杂度：O(V)。
    - 近似度：
        - Ratio Bound：2
        - 相对误差：1
        - 证明：
            令E'是选中的边，则其无相邻边。每次选中一条边，最多两个顶点被选中。$$ |V'| = |E'| * 2$$。
            设OPT为最优解，OPT必须覆盖E'，所以OPT至少有$|E'|$个顶点。
            所以$$ |V'| \leq 2 * OPT $$。
            所以$$ \frac{|V'|}{OPT} \leq 2 $$。


## 集合覆盖问题

- 输入：
  - 有限集 $U = {1, 2, ..., n}$，子集合的集合 $S = {S_1, S_2, ..., S_m}$，每个子集 $S_i \subseteq U$。
  - 输出：$A \subseteq S$，使得 $\bigcup_{S_i \in A} S_i = U$ 且 $|A|$ 最小。
  
- 近似算法：
    - 贪心算法：
        - 每次选择覆盖最多未覆盖元素的子集加入集合A，直到所有元素都被覆盖。
    - 时间复杂度：
      |S|个子集，判断覆盖元素的个数需要 |U| 次，一次选择要计算 |S||U| 次，共选择 $min(|S|, |U|)$ 次，总计算复杂度 $|S||U|min(|S|, |U|)$。
    

## 旅行商问题（哈密顿环）

- 哈密顿环
  - 定义：在一个无向图中，哈密顿环是一个经过每个顶点恰好一次的闭合路径。

- 输入：
  - 有向图G = (V, E)，每条边有一个权值w(u, v)，表示从u到v的距离，边满足三角不等式。
  - 输出：边权值最小的哈密顿环。
  

- 近似算法：
  - 构造最小生成树
  - 先序遍历最小生成树，得到一个哈密顿环。
  - 时间复杂度：
    - 构造最小生成树 $O(|V|^2|)$
    - 先序遍历 $O(|V|)$
    - 总时间复杂度 $O(|V|^2)$
  - 性能分析：
    - Ratio Bound：2
    - 令OPT为最优解，代价为C(OPT)，在环中删除一条边，得到一棵生成树，代价为C(T)，则有：
      $$ C(T_{min}) \leq C(T) \leq C(OPT) $$
    - 先序遍历实际上对$T_{min}$中的边都走了两次，得到的代价为$2C(T_{min})$。
    - 按先序遍历构造的哈密顿环为A，代价为C(A)，则有：
      $$ C(A) \leq 2C(T_{min}) \leq 2C(OPT) $$
    - 

## 线性规划

- 线性规划是一个数学优化问题，目标是在线性约束条件下，最大化或最小化一个线性目标函数。
- 一般形式
  - 目标函数：$\sum_{i=1}^n c_ix_i$，其中$c_i$为系数，$x_i$为变量。
  - 约束条件：$\sum_{i=1}^n a_{ij}x_i \leq b_j$，其中$a_{ij}$为系数，$b_j$为常数。
  - 非负约束：$x_i \geq 0$，其中$x_i$为变量。
  

### 顶点覆盖问题的线性规划

- 线性规划形式：
  - 假设A为一个覆盖
    - 若 $v \in A$，则 $x_v = 1$，否则 $x_v = 0$。
    - 要覆盖所有边，则对于任意边$(u, v)$，有 $x_u + x_v \geq 1$。
  - 可描述为一个0-1整数线性规划问题：
    - 目标函数：$\sum_{v \in V} {\omega}_v x_v$，最小化顶点数。
    - 约束条件：对于任意边$(u, v)$，有 $x_u + x_v \geq 1$。
    - 非负约束：$x_v \in {0, 1}$，其中$v \in V$。
  - 可以放宽约束条件，允许$x_v$为实数，得到一个线性规划问题。
    - 若 $x_v \geq \frac{1}{2}$，令$x_v = 1$，否则 $x_v = 0$。

- 近似算法
  - Approx(G, w)
    1. C = 0;
    1. 计算线性规划问题的最优解，得到$x_v$。
    2. 对每个顶点$v$，如果$x_v \geq \frac{1}{2}$，则加入集合C。
    3. 返回集合C。 

- 分析：
  - 近似比：2
  - 对于任意边$(u, v)$，至少有一个顶点在集合C中。
  - 令线性规划的最优解代价为z，则有：
    $$ z = \sum_{v \in V} {\omega}_v x_v \geq \sum_{v \in C, x_v \geq \frac{1}{2}} {\omega}_v \frac{1}{2} \geq \sum_{v \in C} {\omega}_v \frac{1}{2} \geq \frac{1}{2} \omega(A) $$ 
  - 故 
    $$ \omega(OPT) \geq z \geq \frac{1}{2} \omega(A) $$
