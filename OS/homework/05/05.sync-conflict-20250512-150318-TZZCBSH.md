## 6.13

### 互斥

当 $P_i$ 进入临界区时，条件是 `flag[j]=flase && turn==i`（初次不需要`turn==j`），这两者同时满足时应该是 &P_j& 从临界区退出后（或初始状态），且 $P_i$ 进入临界区之前，会将`flag[i]` 置 `true`，所以在其退出之前，$P_j$无法进入临界区。

### 有空让进

若此时临界区无人占用，则两个进程设置`flag[]=true`后，两者同时进入while循环，假设`turn`为`i`，则进程$P_j$ 设置 `flag[j]=false`，使得进程 $P_i$ 进入临界区，反之亦然。

### 优先等待

假设进程 $P_i$ 等待 $P_j$，前者会在双重while循环中等待，后者退出临界区后会设置`turn=i`使得前者从循环中退出（若没有发生CPU上下文切换，则后者再次运行，但一定时间内，一定会发生CPU上下文切换），前者设置`flag[i]=true`阻塞后者，使得后者设置`flag[j]=false`，前者得以进入临界区。


## 6.17

- 关闭中断只能关闭本处理器，不能影响其他处理器
- 关中断无法阻止并发行为
    关闭终端后只能保证某一处理器不进行上下文切换，不能保证多个处理器不同时访问临界区
- 性能不佳