# 第六次作业

## 9.13

### 首次适应算法

1. 200 MB →  分配至 205 MB 分区（剩余 5 MB）
2. 15 MB →  分配至 100 MB 分区（剩余 85 MB）
3. 185 MB → 分配至 300 MB 分区（剩余 115 MB）
4. 75 MB →  分配至 85 MB 分区（剩余 10 MB）
5. 175 MB → 分配至 185 MB 分区（剩余 10 MB）
6. 80 MB →  分配至 170 MB 分区（剩余 90 MB）

所有请求均成功分配。

### 最优适应算法

1. 200 MB → 分配至 205 MB 分区（剩余 5 MB）
2. 15 MB → 分配至 40 MB 分区（剩余 25 MB）
3. 185 MB → 分配至 185 MB 分区（完全占用）
4. 75 MB → 分配至 100 MB 分区（剩余 25 MB）
5. 175 MB → 分配至 300 MB 分区（剩余 125 MB）
6. 80 MB → 分配至 125 MB 分区（剩余 45 MB）

所有请求均成功分配。

### 最差适应算法

1. 200 MB → 分配至 300 MB 分区（剩余 100 MB）
2. 15 MB → 分配至 205 MB 分区（剩余 190 MB）
3. 185 MB → 分配至 190 MB 分区（剩余 5 MB）
4. 75 MB → 分配至 170 MB 分区（剩余 95 MB）
5. 175 MB → 分配至 185 MB 分区（剩余 10 MB）
6. 80 MB → 分配至 100 MB 分区（剩余 20 MB）

所有请求均成功分配。

### 评价

1. 首次适应：只需找到第一个满足条件的分区即可分配，搜索速度快；无需维护复杂的数据结构。但是在前部分分区留下较多小碎片（例如将 200 MB 分配到 205 MB 分区后剩余 5 MB），导致后续大请求难以满足；大分区可能被分割成小碎片，而尾部的大分区可能长期闲置（如 300 MB 分区被保留到最后）。
2. 最优适应：理论内存利用率高，但是可能产生大量无法利用的小碎片（如剩余 5 MB、25 MB 等），长期运行后内存利用率可能降低。
3. 最差适应：适合避免小碎片，但是可能导致早期分配耗尽大分区（如 300 MB 分区被分配后只剩 100 MB），后续大请求可能无法满足。

------

## 9.24

### a. 传统的单层页表：

逻辑地址空间为 32 位，页大小为 8 KB（即页内偏移占 13 位）。页号位数 = 32 - 13 = 19 位，因此页表条目数为：219=5242882^{19} = 524288。

### b. 倒置页表：

物理内存为 1 GB，页大小为 8 KB。物理页框数 = 1GB8KB=217=131072\frac{1GB}{8KB} = 2^{17} = 131072。

------

## 9.25

### a. 分页内存的引用时间

每次内存引用需访问页表（50 ns）和实际数据（50 ns），总时间为 100 ns。

### b. 添加 TLB 后的有效时间

- TLB 命中（75%）：2 ns（TLB 访问）+ 50 ns（数据访问）= 52 ns
- TLB 未命中（25%）：50 ns（页表访问）+ 50 ns（数据访问）= 100 ns

有效时间 = 0.75×52+0.25×100=640.75 × 52 + 0.25 × 100 = 64 ns