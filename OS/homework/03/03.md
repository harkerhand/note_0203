## P138 4.16

### 输入输出部分

一个输入线程、一个输出线程

**解释**： 
IO操作通常是阻塞的，并发一般不会带来性能提升

### CPU 密集型部分的线程数

四个线程

**解释**：
- 系统有两个双核处理器，四个物理核心。最佳实践是创建与核心数量相同的线程，这样可以最大限度利用CPU核心。
- 更多线程不会提高效率，反而会增加上下文切换开销，因为线程数超过核心数时，操作系统需要频繁切换线程，浪费CPU时间。

## 4.17

### a

首先主进程A fork后创建进程B，在判断逻辑中，进程B fork创建进程C，判断逻辑块后，进程A fork创建进程D，进程B fork创建进程E，进程C fork创建进程F。

所以创建了 5 个单独进程

### b

进程B、C在判断逻辑内创建了线程G、H。

所以创建了 2 个单独线程。


## 4.19

首先，主线程fork创建子进程，子进程中，创建线程执行runner函数并等待其结束，value被更改为 5，所以LINE C 输出为 `CHILD:value = 5`，主进程中，等待子进程结束，但子进程修改的其自身地址空间的value，并未影响主进程，所以LINE P 输出为 `PAREANT:value = 0`